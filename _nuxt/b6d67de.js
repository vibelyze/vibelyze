(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{355:function(n,e){},356:function(n,e){},358:function(n,e){},359:function(n,e){},362:function(n,e){},363:function(n,e){},365:function(n,e){},366:function(n,e){},368:function(n,e){},369:function(n,e){},370:function(n,e){},373:function(n,e){},374:function(n,e){},378:function(n,e){},379:function(n,e){},380:function(n,e){},381:function(n,e){},383:function(n,e){},384:function(n,e){},385:function(n,e){},386:function(n,e){},388:function(n,e){},395:function(n,e){},470:function(n,e,t){"use strict";t.r(e);var c=t(9),o=(t(11),t(74),t(44),t(2)),r=t(354),l=t.n(r),f=t(327),m=t(609),h=t(624),d=o.a.extend({data:function(){return{client:null,campaignid:19,batchidentification:null,connectAccount:{providerName:null,provider:null,account:null},connectResponse:null,message:null,accountConnected:!1}},components:{},methods:{login:function(){var n=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.generateClient(),e.next=3,n.connectMetamask();case 3:return e.next=5,n.connectEffectAccount();case 5:case"end":return e.stop()}}),e)})))()},loginEOS:function(){var n=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.generateClient(),e.next=3,n.connectAnchor();case 3:return e.next=5,n.connectEffectAccount();case 5:case"end":return e.stop()}}),e)})))()},generateClient:function(){console.log("Creating SDK...");try{this.client=new f.EffectClient("mainnet",{ipfsCache:!1}),console.log(this.client)}catch(n){console.error(n)}},connectAnchor:function(){var n=this;return Object(c.a)(regeneratorRuntime.mark((function e(){var t,c,o,r,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=new h.a,c=new m.a({transport:t,chainId:n.client.config.eosChainId,rpc:n.client.config.eosNodeUrl}),e.next=5,c.login("hackathon-boilerplate");case 5:o=e.sent,r=o.session,l=r.makeSignatureProvider(),f={accountName:r.auth.actor.toString(),permission:r.auth.permission.toString()},console.log("Logged in as",f),n.connectAccount.provider=l,n.connectAccount.account=f,n.connectAccount.providerName="anchor",e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),alert("Something went wrong. See console for error message"),console.error(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))()},connectMetamask:function(){var n=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Connecting to metamask wallet."),!window.ethereum){e.next=19;break}return e.prev=2,e.next=5,ethereum.request({method:"eth_requestAccounts"});case 5:return e.sent,e.next=8,ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x38"}]});case 8:n.connectAccount.provider=new l.a(window.ethereum),n.connectAccount.account=null,n.connectAccount.providerName="metamask",e.next=17;break;case 13:e.prev=13,e.t0=e.catch(2),alert("Something went wrong. See console for error message"),console.error(e.t0);case 17:e.next=20;break;case 19:alert("Metamask not installed.");case 20:case"end":return e.stop()}}),e,null,[[2,13]])})))()},connectEffectAccount:function(){var n=this;return Object(c.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Connecting to account with wallet."),e.prev=1,!n.connectAccount.provider){e.next=8;break}return e.next=5,n.client.connectAccount(n.connectAccount.provider,n.connectAccount.account);case 5:n.connectResponse=e.sent,e.next=9;break;case 8:alert("Login with on of the wallet.");case 9:n.accountConnected=!0,n.$emit("account",n.connectResponse,n.client),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),alert("Something went wrong. See console for error message"),console.error(e.t0);case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()}}}),w=t(50),component=Object(w.a)(d,(function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("div",[n.accountConnected?n._e():t("div",{staticClass:"buttons is-justify-content-center is-flex",attrs:{id:"connect-buttons"}},[t("button",{staticClass:"button is-link",staticStyle:{"background-color":"#3750A2"},attrs:{id:"btn-login-eos"},on:{click:function(e){return n.loginEOS()}}},[n._v("Connect with Anchor")])])])}),[],!1,null,null,null);e.default=component.exports}}]);
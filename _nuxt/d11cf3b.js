(window.webpackJsonp=window.webpackJsonp||[]).push([[2,9,10],{1038:function(t,e,n){"use strict";n.r(e);var o=n(467).a,r=n(50),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-6"},[n("div",{staticClass:"mb-3 has-text-centered"},[n("p",{staticClass:"has-text-success"},[t._v("Connected Effect Account: "+t._s(t.account.accountName))])]),t._v(" "),t.loading?n("div",{staticClass:"loader-wrapper is-active"},[n("div",{staticClass:"loader is-loading"}),t._v(" "),n("br"),t._v("Waiting for the transaction to complete...\n    ")]):t._e(),t._v(" "),t._m(0),t._v(" "),n("h1",{staticClass:"title is-4 mt-6"},[t._v("\n      Step 1: Customize your campaign\n    ")]),t._v(" "),n("p",[t._v("\n      Create your Song Task Analyser campaign here. You can use the default campaign by simply clicking 'Save Campaign', or customize your campaign for your needs!\n    ")]),n("br"),t._v(" "),n("p",[t._v("Already have a campaign? "),n("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.$emit("search")}}},[t._v("Continue to batch creation")])]),n("br"),t._v(" "),t.errors.length?n("div",t._l(t.errors,(function(e){return n("div",{key:t.toString(e),staticClass:"notification is-danger is-light"},[t._v("\n        "+t._s(e)+"\n      ")])})),0):t._e(),t._v(" "),n("div",{staticClass:"tabs"},[n("ul",[n("li",{class:{"is-active":"basic-info"===t.formGroup}},[n("a",{on:{click:function(e){e.preventDefault(),t.formGroup="basic-info"}}},[t._v("Basic Information")])]),t._v(" "),n("li",{class:{"is-active":"instructions"===t.formGroup}},[n("a",{on:{click:function(e){e.preventDefault(),t.formGroup="instructions"}}},[t._v("Instructions")])]),t._v(" "),n("li",{class:{"is-active":"tasks"===t.formGroup}},[n("a",{on:{click:function(e){e.preventDefault(),t.formGroup="tasks"}}},[t._v("Design Tasks")])])])]),t._v(" "),n("form",{on:{submit:function(e){return e.preventDefault(),t.createCampaign.apply(null,arguments)}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"basic-info"===t.formGroup,expression:"formGroup === 'basic-info'"}],staticClass:"block basic-info-group"},[n("div",{staticClass:"field"},[t._m(1),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.title,expression:"campaignIpfs.title"}],staticClass:"input",attrs:{type:"text",placeholder:"My Campaign Title"},domProps:{value:t.campaignIpfs.title},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"title",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[t._m(2),t._v(" "),n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.description,expression:"campaignIpfs.description"}],staticClass:"textarea",domProps:{value:t.campaignIpfs.description},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"description",e.target.value)}}})])]),t._v(" "),n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Image")]),t._v(" "),n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.image,expression:"campaignIpfs.image"}],staticClass:"input",attrs:{type:"text",placeholder:"Image URL"},domProps:{value:t.campaignIpfs.image},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"image",e.target.value)}}})])]),t._v(" "),t._m(3),t._v(" "),n("div",{staticClass:"field has-addons"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.reward,expression:"campaignIpfs.reward"}],staticClass:"input",attrs:{type:"number",placeholder:"Reward per task"},domProps:{value:t.campaignIpfs.reward},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"reward",e.target.value)}}})]),t._v(" "),t._m(4)])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"instructions"===t.formGroup,expression:"formGroup === 'instructions'"}],staticClass:"block instructions-group"},[n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-two-fifths"},[n("div",{staticClass:"field"},[t._m(5),t._v(" "),t.campaign&&t.campaignIpfs?n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.instructions,expression:"campaignIpfs.instructions"}],staticClass:"textarea",attrs:{required:""},domProps:{value:t.campaignIpfs.instructions},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"instructions",e.target.value)}}})]):t._e()])])])]),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:"tasks"===t.formGroup,expression:"formGroup === 'tasks'"}],staticClass:"block task-group"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Template")]),t._v(" "),n("div",{staticClass:"control"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.template,expression:"campaignIpfs.template"}],staticClass:"textarea",domProps:{value:t.campaignIpfs.template},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs,"template",e.target.value)}}})])]),t._v(" "),Object.keys(t.campaignIpfs.example_task).length?n("div",{staticClass:"field"},[n("label",{staticClass:"label"},[t._v("Example Task")])]):n("div",[t._v("\n          When you customize the template make sure to add the song_embed template in there!\n          "),n("pre",[t._v("${song_embed}")])]),t._v(" "),t._m(6),t._v(" "),t._l(t.campaignIpfs.example_task,(function(e,o){return n("div",{key:o,staticClass:"field is-horizontal"},[n("div",{staticClass:"field-label is-small"},[n("label",{staticClass:"label"},[t._v(t._s(o))])]),t._v(" "),n("div",{staticClass:"field-body is-small"},[n("div",{staticClass:"field"},[n("div",{staticClass:"control"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.campaignIpfs.example_task[o],expression:"campaignIpfs.example_task[key]"}],staticClass:"input is-small",attrs:{type:"text"},domProps:{value:t.campaignIpfs.example_task[o]},on:{input:function(e){e.target.composing||t.$set(t.campaignIpfs.example_task,o,e.target.value)}}})])])])])})),t._v(" "),n("h2",{staticClass:"subtitle mt-5"},[t._v("\n          Task Preview\n        ")]),t._v(" "),n("template-media",{attrs:{html:t.renderTemplate(t.campaignIpfs.template||"No template found..",t.campaignIpfs.example_task||{})}})],2),t._v(" "),n("div",{staticClass:"field is-grouped is-grouped-right"},[n("div",{staticClass:"control"},[n("button",{staticClass:"button is-primary is-wide",class:{"is-loading":t.loading},attrs:{type:"submit"}},[t._v("\n            Save Campaign\n          ")])])])]),t._v(" "),t.successMessage?n("success-modal",{attrs:{message:t.successMessage,title:t.successTitle}}):t._e(),t._v(" "),n("br")],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("p",{staticClass:"is-pulled-right"},[n("span",{staticClass:"has-text-info"},[n("b",[t._v("*")])]),t._v(" "),n("i",[t._v(" is required")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"label"},[t._v("\n            Title\n            "),n("span",{staticClass:"has-text-info"},[t._v("*")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"label"},[t._v("\n            Description\n            "),n("span",{staticClass:"has-text-info"},[t._v("*")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"label"},[t._v("\n          Reward per task\n          "),n("span",{staticClass:"has-text-info"},[t._v("*")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"control"},[n("a",{staticClass:"button is-primary"},[t._v("\n              EFX\n            ")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticClass:"label"},[t._v("\n                Instructions\n                "),n("span",{staticClass:"has-text-info"},[t._v("*")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n          To learn more about templates and placeholders, visit the "),n("a",{attrs:{href:"https://effectai.github.io/developer-docs/effect_network/template.html",target:"_blank"}},[t._v("documentation")]),t._v(".\n        ")])}],!1,null,null,null);e.default=component.exports;installComponents(component,{SuccessModal:n(472).default})},349:function(t,e,n){var o=n(3);t.exports=o(1..valueOf)},351:function(t,e,n){var content=n(469);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(105).default)("572ee330",content,!0,{sourceMap:!1})},355:function(t,e){},356:function(t,e){},358:function(t,e){},359:function(t,e){},362:function(t,e){},363:function(t,e){},365:function(t,e){},366:function(t,e){},368:function(t,e){},369:function(t,e){},370:function(t,e){},373:function(t,e){},374:function(t,e){},378:function(t,e){},379:function(t,e){},380:function(t,e){},381:function(t,e){},383:function(t,e){},384:function(t,e){},385:function(t,e){},386:function(t,e){},388:function(t,e){},395:function(t,e){},400:function(t,e,n){"use strict";var o=n(4),r=n(0),c=n(3),l=n(51),m=n(349),d=n(185),f=n(6),v=r.RangeError,h=r.String,_=Math.floor,w=c(d),y=c("".slice),C=c(1..toFixed),k=function(t,e,n){return 0===e?n:e%2==1?k(t,e-1,n*t):k(t*t,e/2,n)},I=function(data,t,e){for(var n=-1,o=e;++n<6;)o+=t*data[n],data[n]=o%1e7,o=_(o/1e7)},x=function(data,t){for(var e=6,n=0;--e>=0;)n+=data[e],data[e]=_(n/t),n=n%t*1e7},E=function(data){for(var t=6,s="";--t>=0;)if(""!==s||0===t||0!==data[t]){var e=h(data[t]);s=""===s?e:s+w("0",7-e.length)+e}return s};o({target:"Number",proto:!0,forced:f((function(){return"0.000"!==C(8e-5,3)||"1"!==C(.9,0)||"1.25"!==C(1.255,2)||"1000000000000000128"!==C(0xde0b6b3a7640080,0)}))||!f((function(){C({})}))},{toFixed:function(t){var e,n,o,r,c=m(this),d=l(t),data=[0,0,0,0,0,0],f="",_="0";if(d<0||d>20)throw v("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return h(c);if(c<0&&(f="-",c=-c),c>1e-21)if(n=(e=function(t){for(var e=0,n=t;n>=4096;)e+=12,n/=4096;for(;n>=2;)e+=1,n/=2;return e}(c*k(2,69,1))-69)<0?c*k(2,-e,1):c/k(2,e,1),n*=4503599627370496,(e=52-e)>0){for(I(data,0,n),o=d;o>=7;)I(data,1e7,0),o-=7;for(I(data,k(10,o,1),0),o=e-1;o>=23;)x(data,1<<23),o-=23;x(data,1<<o),I(data,1,1),x(data,2),_=E(data)}else I(data,0,n),I(data,1<<-e,0),_=E(data)+w("0",d);return _=d>0?f+((r=_.length)<=d?"0."+w("0",d-r)+_:y(_,0,r-d)+"."+y(_,r-d)):f+_}})},467:function(t,e,n){"use strict";(function(t){var o=n(30),r=n(9),c=(n(44),n(25),n(11),n(41),n(400),n(26),n(35),n(46),n(47),n(62),n(63),n(2)),l=n(327),m=n(472),d=n(623);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}e.a=c.a.extend({props:["account","effectsdk"],components:{TemplateMedia:d.default,SuccessModal:m.default},data:function(){return{advanced:!1,success:!1,ipfsExplorer:t.env.NUXT_ENV_IPFS_EXPLORER,loading:!1,preview:!1,campaignIpfs:{title:"Song Analyses 🎶",description:"Song Analyses 🎶 <br> Earn EFX by listening to songs and answer questions about them! <br> Rock & Roll🤘 🎸 <br> - Created with the Song Analyser dApp",instructions:"Song Analyses 🎶 \n Listen to the given songs and answer questions about them.",template:'<section class="section"> <div class="container has-text-centered"> <div id="tweet"> <h1 class="title mb-3">Song Analyses 🎶</h1> </div><div class="question question-sentiment"> <h2 class="subtitle">Answer the questions down below about this song</h2> <iframe src="${song_embed}" width="400" height="350" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"></iframe> <br><div class="field"> <br><p class="mb-2">What kind of genre would you define this song?</p><div class="select is-primary"> <select name="genre"> <option disabled selected>-</option> <option value="pop">Pop</option> <option value="rock">Rock</option> <option value="hiphop">Hip Hop</option> <option value="latin">Latin</option> <option value="dance">Dance/Electronic</option> <option value="rb">R&B</option> <option value="country">Country</option> <option value="folk">Folk/Acoustic</option> <option value="classical">Classical</option> <option value="metal">Metal</option> <option value="jazz">Jazz</option> <option value="blues">Blues</option> <option value="punk">Punk</option> <option value="indie">Indie</option> <option value="techno">techno</option> <option value="other">Other</option> </select> </div></div><hr> <div class="field"> <p class="mb-2">In which language is the lyrics & title of this song?</p><input class="input" type="text" name="language" placeholder="Language" value="English" style="width:350px"/> </div><hr> <div class="field"> <p class="mb-2">What is the dominant instrument?</p><div class="select is-primary"> <select name="instrument"> <option disabled selected>-</option> <option value="accguitar">Acoustic Guitar</option> <option value="elecguitar">Electric Guitar</option> <option value="bass">Bass Guitar</option> <option value="synth">Synthesizer</option> <option value="piano">Piano</option> <option value="drums">Drums</option> <option value="other">Other</option> </select> </div></div><hr> <div class="field"> <p class="mb-2">If you had to describe the song with a color, which color would you give it?</p><div class="select is-primary"> <input type="color" name="color"> </div></div></div><button type="submit" class="button is-primary is-large mt-6">Submit</button> </div></section><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma-checkradio@2.1.2/dist/css/bulma-checkradio.min.css">',image:"https://media.istockphoto.com/vectors/vector-cartoon-music-note-icon-in-comic-style-sound-media-concept-vector-id1026452194?k=20&m=1026452194&s=612x612&w=0&h=FJgvA5S73ABtyruI7JDnhSngSIeyuTF0ny4dNZD5HpE=",category:"captions",example_task:{song_embed:"https://open.spotify.com/embed/track/3zBhihYUHBmGd2bcQIobrF?utm_source=generator"},version:1,reward:1},campaign:{content_hash:null},formGroup:"basic-info",cachedFormData:null,uploadingFile:!1,selectedFile:null,submitted:!1,errors:[],successMessage:null,successTitle:null}},watch:{"campaignIpfs.template":function(template){var t=this,e=function(t,e){for(var n,o=[];n=e.exec(t);)o.push(n[1]);return o}(template,/\$\{\s?(\w+)\s?\|?\s?(\w*)\s?\}/g),n={};e.forEach((function(e){n[e]=t.campaignIpfs.example_task[e]||""})),this.campaignIpfs.example_task=n}},filters:{formatBytes:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if(0===t)return"0 Bytes";var n=1024,o=e<0?0:e,r=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(t)/Math.log(n));return parseFloat((t/Math.pow(n,i)).toFixed(o))+" "+r[i]}},methods:{renderTemplate:function(template){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new l.Template(template,t,e).render()},checkForm:function(){return this.errors=[],!!(this.campaignIpfs.title&&this.campaignIpfs.description&&this.campaignIpfs.reward&&this.campaignIpfs.category&&this.campaignIpfs.instructions&&this.campaignIpfs.template)||(this.campaignIpfs.title||this.errors.push("Title is required."),this.campaignIpfs.description||this.errors.push("Description is required."),this.campaignIpfs.reward||this.errors.push("Reward per task is required."),this.campaignIpfs.category||this.errors.push("Category is required."),this.campaignIpfs.instructions||this.errors.push("Instructions is required."),this.campaignIpfs.template||this.errors.push("Template is required."),!1)},createCampaign:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,o,r,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!t.checkForm()){e.next=21;break}return t.loading=!0,o=v({},t.campaignIpfs),e.next=6,t.effectsdk.force.uploadCampaign(o);case 6:return r=e.sent,e.next=9,t.effectsdk.force.createCampaign(r,t.campaignIpfs.reward);case 9:return c=e.sent,t.successTitle="Campaign submitted successfully",t.successMessage="Waiting for transaction to complete before continuing",e.next=14,t.effectsdk.force.waitTransaction(c);case 14:return e.next=16,t.effectsdk.force.getMyLastCampaign();case 16:n=e.sent,console.log("createdCampaign",n),t.$emit("search",n),t.loading=!1,t.submitted=!0;case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(0),t.loading=!1,t.errors.push(e.t0);case 27:case"end":return e.stop()}}),e,null,[[0,23]])})))()},formDataForComparison:function(){return JSON.stringify({campaign:this.campaign,campaignIpfs:this.campaignIpfs})}}})}).call(this,n(134))},468:function(t,e,n){"use strict";n(351)},469:function(t,e,n){var o=n(104)(!1);o.push([t.i,".template-wrapper[data-v-2bb6d93f]{width:100%;padding:5px}#mediaFrame[data-v-2bb6d93f]{width:100%;border:none;border-radius:14px}",""]),t.exports=o},472:function(t,e,n){"use strict";n.r(e);var o={props:{message:{type:String,default:null},title:{type:String,default:null}},data:function(){return{messageTitle:this.title,messageContent:this.message}}},r=n(50),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal",class:{"is-active":t.messageContent}},[n("div",{staticClass:"modal-background",on:{click:function(e){t.messageContent=null}}}),t._v(" "),n("div",{staticClass:"modal-content p-5 has-background-success has-radius has-text-white"},[n("h3",{staticClass:"subtitle has-text-white is-5"},[t._v(t._s(t.messageTitle))]),t._v(" "),n("p",[t._v(t._s(t.messageContent))]),t._v(" "),n("button",{staticClass:"modal-close is-large",attrs:{"aria-label":"close"},on:{click:function(e){t.messageContent=null}}}),t._v(" "),n("div",{staticClass:"has-text-right"},[n("button",{staticClass:"button",on:{click:function(e){t.messageContent=null}}},[t._v("OK")])])])])}),[],!1,null,null,null);e.default=component.exports},623:function(t,e,n){"use strict";n.r(e);n(11),n(22);var o={props:{html:{type:String,default:null}},data:function(){return{loading:!0}},mounted:function(){document.addEventListener("keydown",this.sendKeyEvents)},created:function(){window.addEventListener("message",this.communicateWithIframe)},beforeDestroy:function(){window.removeEventListener("message",this.communicateWithIframe),document.removeEventListener("keydown",this.sendKeyEvents)},methods:{mediaFrameLoaded:function(){this.loading=!1,this.$emit("templateLoaded")},sendKeyEvents:function(t){var e=document.getElementById("mediaFrame");e&&e.contentWindow.postMessage({task:"key",key:t.key},"*")},communicateWithIframe:function(t){var data=t.data;switch(data.task){case"setHeight":document.getElementById("mediaFrame").height=data.height+"px";break;case"submit":this.$emit("submit",data.values);break;case"results":document.getElementById("mediaFrame").contentWindow.postMessage(data,"*")}}}},r=(n(468),n(50)),component=Object(r.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"template-wrapper"},[t.loading?n("div",[t._v("\n    Loading..\n  ")]):t._e(),t._v(" "),n("iframe",{ref:"mediaFrame",attrs:{id:"mediaFrame",srcdoc:t.html,name:"mediaFrame",sandbox:"allow-scripts allow-modals allow-downloads allow-forms allow-popups allow-pointer-lock allow-same-origin",allow:"geolocation; microphone; camera; autoplay; fullscreen",allowFullScreen:""},on:{load:t.mediaFrameLoaded}})])}),[],!1,null,"2bb6d93f",null);e.default=component.exports}}]);